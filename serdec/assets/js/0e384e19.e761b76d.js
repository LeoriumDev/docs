"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[976],{7879:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>x,frontMatter:()=>r,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"intro","title":"Introduction","description":"Serdec is a C serialization and deserialization library.","source":"@site/docs/intro.md","sourceDirName":".","slug":"/","permalink":"/serdec/","draft":false,"unlisted":false,"editUrl":"https://github.com/LeoriumDev/serdec/tree/main/docs/docs/intro.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"slug":"/","sidebar_position":1},"sidebar":"tutorialSidebar"}');var l=n(4848),d=n(8453);const r={slug:"/",sidebar_position:1},i="Introduction",c={},o=[{value:"Core Functions",id:"core-functions",level:2},{value:"Creation Functions",id:"creation-functions",level:3},{value:"Adding Fields to Objects",id:"adding-fields-to-objects",level:3},{value:"Manipulating Arrays",id:"manipulating-arrays",level:3},{value:"Serialization and Deserialization",id:"serialization-and-deserialization",level:3},{value:"Memory Management",id:"memory-management",level:3},{value:"\ud83c\udf1f Optional/Advanced Functions",id:"-optionaladvanced-functions",level:2},{value:"\ud83d\udccb JSON Type Enumeration",id:"-json-type-enumeration",level:2},{value:"\ud83d\udccc Notes",id:"-notes",level:2}];function j(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.header,{children:(0,l.jsx)(t.h1,{id:"introduction",children:"Introduction"})}),"\n",(0,l.jsx)(t.p,{children:"Serdec is a C serialization and deserialization library."}),"\n",(0,l.jsx)(t.p,{children:"It provides simple APIs for constructing JSON trees, serializing to strings, and parsing JSON strings back into structured C objects."}),"\n",(0,l.jsx)(t.p,{children:"In the future, it will support multiple data serialzation format (e.g. YAML, TOML, XML, CSV)."}),"\n",(0,l.jsx)(t.h2,{id:"core-functions",children:"Core Functions"}),"\n",(0,l.jsx)(t.h3,{id:"creation-functions",children:"Creation Functions"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Function"}),(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Return Value"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_new_object(void)"})}),(0,l.jsxs)(t.td,{style:{textAlign:"left"},children:["Create a new empty JSON object ",(0,l.jsx)(t.code,{children:"{}"}),"."]}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_t*"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_new_array(void)"})}),(0,l.jsxs)(t.td,{style:{textAlign:"left"},children:["Create a new empty JSON array ",(0,l.jsx)(t.code,{children:"[]"}),"."]}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_t*"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_new_null(void)"})}),(0,l.jsxs)(t.td,{style:{textAlign:"left"},children:["Create a JSON ",(0,l.jsx)(t.code,{children:"null"})," value node."]}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_t*"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_new_bool(bool value)"})}),(0,l.jsxs)(t.td,{style:{textAlign:"left"},children:["Create a JSON ",(0,l.jsx)(t.code,{children:"true"}),"/",(0,l.jsx)(t.code,{children:"false"})," value node."]}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_t*"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_new_int(int64_t value)"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Create a JSON integer value node."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_t*"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_new_float(double value)"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Create a JSON floating-point value node."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_t*"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_new_string(const char* str)"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Create a JSON string value node (copies the string)."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_t*"})})]})]})]}),"\n",(0,l.jsx)(t.hr,{}),"\n",(0,l.jsx)(t.h3,{id:"adding-fields-to-objects",children:"Adding Fields to Objects"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Function"}),(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Return Value"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_add_null(serdec_json_t* object, const char* key, void* null)"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Add a null field into an object."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"bool"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_add_bool(serdec_json_t* object, const char* key, bool value)"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Add a boolean field into an object."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"bool"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_add_int(serdec_json_t* object, const char* key, int64_t value)"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Add an integer field into an object."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"bool"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_add_float(serdec_json_t* object, const char* key, double value)"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Add a float field into an object."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"bool"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_add_string(serdec_json_t* object, const char* key, const char* value)"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Add a string field into an object."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"bool"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_add_array(serdec_json_t* object, const char* key, serdec_json_t* array)"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Add an array as a field into an object."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"bool"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_add_object(serdec_json_t* object, const char* key, serdec_json_t* value)"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Add a nested object field into an object."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"bool"})})]})]})]}),"\n",(0,l.jsx)(t.hr,{}),"\n",(0,l.jsx)(t.h3,{id:"manipulating-arrays",children:"Manipulating Arrays"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Function"}),(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Return Value"})]})}),(0,l.jsx)(t.tbody,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_array_add(serdec_json_t* array, serdec_json_t* value)"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Add a value into an array."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"bool"})})]})})]}),"\n",(0,l.jsx)(t.hr,{}),"\n",(0,l.jsx)(t.h3,{id:"serialization-and-deserialization",children:"Serialization and Deserialization"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Function"}),(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Return Value"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_stringify(const serdec_json_t* object)"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Serialize a JSON tree into a compact string."}),(0,l.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,l.jsx)(t.code,{children:"char*"})," (must ",(0,l.jsx)(t.code,{children:"free()"}),")"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_pretty_stringify(const serdec_json_t* object)"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Serialize a JSON tree into a human-readable formatted string."}),(0,l.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,l.jsx)(t.code,{children:"char*"})," (must ",(0,l.jsx)(t.code,{children:"free()"}),")"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_parse(const char* json_string)"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Parse a JSON string into an in-memory tree."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_t*"})})]})]})]}),"\n",(0,l.jsx)(t.h3,{id:"memory-management",children:"Memory Management"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Function"}),(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Return Value"})]})}),(0,l.jsx)(t.tbody,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_free(serdec_json_t* node)"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Recursively free an entire JSON structure."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"void"})})]})})]}),"\n",(0,l.jsx)(t.h2,{id:"-optionaladvanced-functions",children:"\ud83c\udf1f Optional/Advanced Functions"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Function"}),(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Description"}),(0,l.jsx)(t.th,{style:{textAlign:"left"},children:"Return Value"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_typeof(const serdec_json_t* node)"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Get the type of a JSON node."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_type"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_object_get(const serdec_json_t* object, const char* key)"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Lookup a field by key from an object."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_t*"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_array_get(const serdec_json_array_t* array, size_t index)"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Retrieve an element by index from an array."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_t*"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_clone(const serdec_json_t* node)"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Deep copy a full JSON node tree."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_t*"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_merge(serdec_json_t* target, const serdec_json_t* source)"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Merge fields from one object into another."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"bool"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_get_last_error(void)"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Get a description of the last error that occurred."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"const char*"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"serdec_json_clear_error(void)"})}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:"Clear the last error."}),(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.code,{children:"void"})})]})]})]}),"\n",(0,l.jsx)(t.h2,{id:"-json-type-enumeration",children:"\ud83d\udccb JSON Type Enumeration"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-c",children:"typedef enum {\n    SERDEC_JSON_NULL,\n    SERDEC_JSON_BOOLEAN,\n    SERDEC_JSON_INT,\n    SERDEC_JSON_FLOAT,\n    SERDEC_JSON_STRING,\n    SERDEC_JSON_ARRAY,\n    SERDEC_JSON_OBJECT\n} serdec_json_type;\n"})}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:["Used by ",(0,l.jsx)(t.code,{children:"serdec_json_typeof()"})," to determine node types at runtime."]}),"\n"]}),"\n",(0,l.jsx)(t.h2,{id:"-notes",children:"\ud83d\udccc Notes"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:["Always free memory returned by ",(0,l.jsx)(t.code,{children:"serdec_json_stringify"})," and ",(0,l.jsx)(t.code,{children:"serdec_json_pretty_stringify"})," using ",(0,l.jsx)(t.code,{children:"free()"}),"."]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.code,{children:"serdec_json_free()"})," automatically frees all child nodes recursively."]}),"\n",(0,l.jsxs)(t.li,{children:["If you use C11, you can use ",(0,l.jsx)(t.code,{children:"_Generic"})," macro-based ",(0,l.jsx)(t.code,{children:"serdec_json_add(object, key, value)"})," for automatic type dispatching."]}),"\n",(0,l.jsxs)(t.li,{children:["If using C99, call ",(0,l.jsx)(t.code,{children:"serdec_json_add_int"}),", ",(0,l.jsx)(t.code,{children:"serdec_json_add_string"}),", etc., manually."]}),"\n"]}),"\n",(0,l.jsx)(t.h1,{id:"-example-usage",children:"\ud83c\udf1f Example Usage"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-c",metastring:'title="example.c"',children:'#include <stdio.h>\n#include <serdec/serdec.h>\n\nint main(void) {\n    serdec_json_t* root = serdec_json_new_object();\n    serdec_json_add_string(root, "name", "Leorium");\n    serdec_json_add_int(root, "age", 20);\n\n    serdec_json_t* hobbies = serdec_json_new_array();\n    serdec_json_array_add(hobbies, serdec_json_new_string("C Programming"));\n    serdec_json_array_add(hobbies, serdec_json_new_string("Motorcycling"));\n\n    serdec_json_add_object(root, "hobbies", hobbies);\n\n    char* output = serdec_json_stringify(root);\n    printf("%s\\n", output);\n\n    serdec_json_free(root);\n    free(output);\n    return EXIT_SUCCESS;\n}\n'})})]})}function x(e={}){const{wrapper:t}={...(0,d.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(j,{...e})}):j(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>i});var s=n(6540);const l={},d=s.createContext(l);function r(e){const t=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),s.createElement(d.Provider,{value:t},e.children)}}}]);